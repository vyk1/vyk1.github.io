import {QueryProjects} from '../../../hooks/query'
import {Link} from 'gatsby'

export default () => {
  
  const allProjects = QueryProjects()

    const [data, setData] = React.useState({})

    React.useEffect(() => {
        fetch('https://raw.githubusercontent.com/vyk1/vyk1/master/info.json')
        .then(res => res.json())
        .then(data => setData(data))
    }, [])

  const {nodes} = allProjects

  return (
  <div>
  <title>Portfolio de Victoria Botelho Martins</title>

<Text
  children={`ðŸ‘‹ðŸ¿`}
  sx={{ fontSize: [4, 5, 6], fontWeight: `bold`, color: `heading` }}
/>

<Title text="I'm Victoria or just @vyk1, a programmer and Master of Science in Computer Science living in Brazil."/>

    <Title text="Projects"/>
    
  {
    nodes.map((project) => (
      <div key={project.frontmatter.title}>
    <Link to={project.frontmatter.slug}>
      <h5>{project.frontmatter.title}</h5>
      </Link>
      </div>
      ))
  }
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
      <Title text="Publis" />
        <div className="publis">
            {data?.publications?.map((publi, index) => (
                <div className="publi" key={index}>
                    <a href={publi.link} target="_blank" rel="noopener noreferrer"><h5>{publi.title}</h5></a>
                </div>
            ))}
        </div>
  </div>
)
}